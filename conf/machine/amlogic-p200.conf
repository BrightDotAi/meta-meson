#@TYPE: Machine
#@NAME: Amlogic P200 machine
#@DESCRIPTION: Machine configuration for legacy boot with embedded vendor U-Boot

require conf/machine/include/amlogic-s905.inc
require conf/machine/include/amlogic-p200-dtb.inc

# TOFIX: use mainline u-boot and drop legacy boot & vendor u-boot

EXTRA_IMAGEDEPENDS += "u-boot s905-autoscript s905-autoscript-multiboot"

PREFERRED_PROVIDER_virtual/bootloader = "u-boot-amlogic"
PREFERRED_PROVIDER_u-boot = "u-boot-amlogic"
PREFERRED_VERSION_u-boot-amlogic = "v2015.01%"

UBOOT_MACHINE = "gxb_p200_v1_config"

IMAGE_BOOT_FILES += " s905_autoscript aml_autoscript aml_autoscript.zip"

# Generate an SDCard Image
IMAGE_CLASSES += "image_types_meson"

WKS_FILE = "sdimage-meson.wks"
